<!DOCTYPE html>
<html lang="pt-BR">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Teste Intent - GitHub Pages</title>
		<style>
			body {
				font-family: 'Arial', sans-serif;
				margin: 0;
				padding: 0;
				background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
				min-height: 100vh;
				display: flex;
				align-items: center;
				justify-content: center;
				color: white;
			}
			.container {
				text-align: center;
				background: rgba(255, 255, 255, 0.1);
				padding: 2rem;
				border-radius: 15px;
				backdrop-filter: blur(10px);
				box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
				border: 1px solid rgba(255, 255, 255, 0.18);
			}
			h1 {
				margin: 0 0 1rem 0;
				font-size: 3rem;
				text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
			}
			p {
				font-size: 1.2rem;
				margin: 1rem 0;
				opacity: 0.9;
			}
			.status {
				background: rgba(255, 255, 255, 0.2);
				padding: 1rem;
				border-radius: 10px;
				margin-top: 2rem;
			}
			.emoji {
				font-size: 4rem;
				margin-bottom: 1rem;
			}
			.button-container {
				margin: 2rem 0;
				display: flex;
				flex-direction: column;
				gap: 1rem;
				align-items: center;
			}
			.app-button {
				background: linear-gradient(45deg, #4caf50, #45a049);
				color: white;
				border: none;
				padding: 1rem 2rem;
				font-size: 1.1rem;
				border-radius: 10px;
				cursor: pointer;
				transition: all 0.3s ease;
				text-decoration: none;
				display: inline-block;
				min-width: 250px;
				box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
			}
			.app-button:hover {
				transform: translateY(-2px);
				box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
			}
			.app-button.android {
				background: linear-gradient(45deg, #3ddc84, #2db870);
			}
			.app-button.ios {
				background: linear-gradient(45deg, #007aff, #0056cc);
			}
			.device-info {
				background: rgba(255, 255, 255, 0.15);
				padding: 1rem;
				border-radius: 10px;
				margin: 1rem 0;
				font-size: 0.9rem;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="emoji">üöÄ</div>
			<h1>Teste Intent</h1>
			<p>P√°gina HTML est√°tica hospedada no GitHub Pages</p>

			<div class="button-container">
				<h2>üè¶ Teste BBC Digital</h2>
				<button class="app-button android" onclick="openBBCDigital('android')">
					üì± Abrir no Android
				</button>
				<button class="app-button ios" onclick="openBBCDigital('ios')">
					üçé Abrir no iOS
				</button>
				<button class="app-button" onclick="openBBCDigital('auto')">
					üîÑ Detectar Dispositivo
				</button>
			</div>

			<div class="device-info" id="device-info">
				<p>
					<strong>Dispositivo:</strong>
					<span id="device-type">Detectando...</span>
				</p>
				<p><strong>User Agent:</strong> <span id="user-agent"></span></p>
			</div>

			<div class="status">
				<p><strong>Status:</strong> Projeto configurado com sucesso! ‚úÖ</p>
				<p><strong>Data:</strong> <span id="current-date"></span></p>
			</div>
		</div>

		<script>
			// Adiciona a data atual
			document.getElementById('current-date').textContent =
				new Date().toLocaleDateString('pt-BR')

			// Detecta o dispositivo
			function detectDevice() {
				const userAgent = navigator.userAgent
				document.getElementById('user-agent').textContent = userAgent

				if (/Android/i.test(userAgent)) {
					document.getElementById('device-type').textContent = 'Android'
					return 'android'
				} else if (/iPhone|iPad|iPod/i.test(userAgent)) {
					document.getElementById('device-type').textContent = 'iOS'
					return 'ios'
				} else {
					document.getElementById('device-type').textContent = 'Desktop/Outro'
					return 'desktop'
				}
			}

			// Fun√ß√£o para abrir o app BBC Digital
			function openBBCDigital(platform) {
				const androidPackage = 'br.com.bbcdigital'
				const androidStoreUrl =
					'https://play.google.com/store/apps/details?id=br.com.bbcdigital&hl=pt_BR'
				const iosAppId = '1480048382'
				const iosStoreUrl =
					'https://apps.apple.com/br/app/bbc-digital/id1480048382'

				if (platform === 'auto') {
					platform = detectDevice()
				}

				console.log('Tentando abrir BBC Digital para:', platform)

				if (platform === 'android') {
					// Tenta abrir o app via intent
					const intentUrl = `intent://launch/#Intent;package=${androidPackage};end`

					// Primeiro tenta o intent
					window.location.href = intentUrl

					// Fallback para a Play Store ap√≥s um delay
					setTimeout(() => {
						window.open(androidStoreUrl, '_blank')
					}, 2000)
				} else if (platform === 'ios') {
					// Tenta abrir o app via URL scheme personalizado
					const customScheme = 'bbcdigital://'

					// Primeiro tenta o URL scheme personalizado
					window.location.href = customScheme

					// Fallback para a App Store ap√≥s um delay
					setTimeout(() => {
						window.open(iosStoreUrl, '_blank')
					}, 2000)
				} else {
					// Para desktop ou outros dispositivos, abre a p√°gina web do banco
					alert(
						'Este teste √© espec√≠fico para dispositivos m√≥veis. Redirecionando para as lojas de aplicativos...'
					)
					window.open(androidStoreUrl, '_blank')
					setTimeout(() => {
						window.open(iosStoreUrl, '_blank')
					}, 1000)
				}
			}

			// Detecta o dispositivo ao carregar a p√°gina
			window.onload = function () {
				detectDevice()
			}
		</script>
	</body>
</html>
